<!DOCTYPE>
<html ng-app="myApp">

<head>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
    <title>Maiduo admin</title>
</head>

<body>
    <div class="container" ng-controller="AppCtrl">
        <h1>Maiduo Admin Panel</h1>
        <h2>Shops</h2>
        <button class="btn btn-warning" data-toggle="modal" data-target="#newShopPanel">Add Shop</button>
        <table class="table">
            <thead>
                <tr>
                    <th>Shop</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="shop in shopList">
                    <td>{{shop.name}}</td>
                    <td>
                        <button class="btn btn-danger" ng-click="removeShop(shop._id)">Edit</button>
                        <button class="btn btn-danger" ng-click="removeShop(shop._id)">Remove</button>
                        <button class="btn btn-warning" data-toggle="modal" data-target="#newGroupbuyPanel">Add Group buy</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2>Groupbuys</h2>
        <table class="table">
            <thead>
                <tr>
                    <th>Shop</th>
                    <th>Groupbuy</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="gb in groupbuyList">
                    <td></td>
                    <td>{{gb.title}}</td>

                    <td>
                        <button class="btn btn-danger" ng-click="removeGroupbuy(gb._id)">Remove</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <!-- Modal -->
        <div class="modal fade" id="newGroupbuyPanel" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">New Group Buy</h4>
                    </div>
                    <div class="modal-body">
                        Title
                        <input class="form-control" ng-model="groupbuy.title"> 
                        Description
                        <input class="form-control" ng-model="groupbuy.description"> Photo link
                        <input class="form-control" ng-model="groupbuy.photoLink"> item name
                        <input class="form-control" ng-model="groupbuy.itemName"> price
                        <input class="form-control" ng-model="groupbuy.itemPrice">
                        <button class="btn btn-primary" ng-click="addGroupbuy(shop._id)">Save</button>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="newShopPanel" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">New Shop</h4>
                    </div>
                    <div class="modal-body">
                        Shop name
                        <input class="form-control" ng-model="shop.name"> 
                        email
                        <input class="form-control" ng-model="shop.email"> 
                        phone
                        <input class="form-control" ng-model="shop.phone_number"> address
                        <input class="form-control" ng-model="shop.address">
                        <button class="btn btn-primary" ng-click="addShop()">Add Shop</button>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="bower_components/angular/angular.min.js"></script>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="controllers/controller.js"></script>
</body>

</html>
